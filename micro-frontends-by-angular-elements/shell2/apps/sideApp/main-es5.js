function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _get(t,e,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=_superPropBase(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(r):i.value}})(t,e,r||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,(function(e){return t[e]}).bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}({0:function(t,e,r){t.exports=r("zUnb")},"0S4P":function(t,e){t.exports=ng.common},Vgaj:function(t,e){t.exports=rxjs},"g/Wr":function(t,e){t.exports=ng.elements},"vG+p":function(t,e){t.exports=ng.platformBrowser},vOrQ:function(t,e){t.exports=ng.core},zUnb:function(t,e,r){"use strict";r.r(e);var n=r("vOrQ"),i=r("vG+p"),a=r("0S4P"),o=r("Vgaj");function s(t){return"function"==typeof t}var u=!1,c={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=t},get useDeprecatedSynchronousErrorHandling(){return u}};function l(t){setTimeout((function(){throw t}),0)}var h={closed:!0,next:function(t){},error:function(t){if(c.useDeprecatedSynchronousErrorHandling)throw t;l(t)},complete:function(){}},f=Array.isArray||function(t){return t&&"number"==typeof t.length};function p(t){return null!==t&&"object"==typeof t}var d,v=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),g=((d=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var r=this._parentOrParents,n=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var a=0;a<r.length;++a)r[a].remove(this);if(s(n))try{n.call(this)}catch(l){e=l instanceof v?m(l.errors):[l]}if(f(i))for(var o=-1,u=i.length;++o<u;){var c=i[o];if(p(c))try{c.unsubscribe()}catch(l){e=e||[],l instanceof v?e=e.concat(m(l.errors)):e.push(l)}}if(e)throw new v(e)}}},{key:"add",value:function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[r]:a.push(r),r}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new d),d);function m(t){return t.reduce((function(t,e){return t.concat(e instanceof v?e.errors:e)}),[])}var y="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),b=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var a;switch(_classCallCheck(this,r),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=h;break;case 1:if(!t){a.destination=h;break}if("object"==typeof t){t instanceof r?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new C(_assertThisInitialized(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new C(_assertThisInitialized(a),t,n,i)}return a}return _createClass(r,[{key:y,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(r.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,n){var i=new r(t,e,n);return i.syncErrorThrowable=!1,i}}]),r}(g),C=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i,a){var o,u;_classCallCheck(this,r),(o=e.call(this))._parentSubscriber=t;var c=_assertThisInitialized(o);return s(n)?u=n:n&&(u=n.next,i=n.error,a=n.complete,n!==h&&(s((c=Object.create(n)).unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(_assertThisInitialized(o)))),o._context=c,o._next=u,o._error=i,o._complete=a,o}return _createClass(r,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,r=c.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):l(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;l(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};c.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(r){if(this.unsubscribe(),c.useDeprecatedSynchronousErrorHandling)throw r;l(r)}}},{key:"__tryOrSetError",value:function(t,e,r){if(!c.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(n){return c.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(l(n),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),r}(b);function _(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new S(t,e))}}var S=function(){function t(e,r){_classCallCheck(this,t),this.project=e,this.thisArg=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new k(t,this.project,this.thisArg))}}]),t}(),k=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var a;return _classCallCheck(this,r),(a=e.call(this,t)).project=n,a.count=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(r,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}]),r}(b),w=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var a;return _classCallCheck(this,r),(a=e.call(this)).parent=t,a.outerValue=n,a.outerIndex=i,a.index=0,a}return _createClass(r,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),r}(b),O=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};var j="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",x="function"==typeof Symbol&&Symbol.observable||"@@observable",R=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function E(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var T=function(t){if(t&&"function"==typeof t[x])return n=t,function(t){var e=n[x]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(R(t))return O(t);if(E(t))return r=t,function(t){return r.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,l),t};if(t&&"function"==typeof t[j])return e=t,function(t){for(var r=e[j]();;){var n=r.next();if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof r.return&&t.add((function(){r.return&&r.return()})),t};var e,r,n,i=p(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(i," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function P(t){return t}function U(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return A(e)}function A(t){return 0===t.length?P:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var I,N=((I=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var r=new t;return r.source=this,r.operator=e,r}},{key:"subscribe",value:function(t,e,r){var n=this.operator,i=function(t,e,r){if(t){if(t instanceof b)return t;if(t[y])return t[y]()}return t||e||r?new b(t,e,r):new b(h)}(t,e,r);if(i.add(n?n.call(i,this.source):this.source||c.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),c.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;t=n&&n instanceof b?n:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var r=this;return new(e=L(e))((function(e,n){var i;i=r.subscribe((function(e){try{t(e)}catch(r){n(r),i&&i.unsubscribe()}}),n,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:x,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return 0===e.length?this:A(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=L(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))}}]),t}()).create=function(t){return new I(t)},I);function L(t){if(t||(t=c.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function M(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new w(t,r,n);if(!i.closed)return e instanceof N?e.subscribe(i):T(e)(i)}var D=function(t){_inherits(r,t);var e=_createSuper(r);function r(){return _classCallCheck(this,r),e.apply(this,arguments)}return _createClass(r,[{key:"notifyNext",value:function(t,e,r,n,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),r}(b);function z(t,e){return new N((function(r){var n=new g,i=0;return n.add(e.schedule((function(){i!==t.length?(r.next(t[i++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}function H(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[x]}(t))return function(t,e){return new N((function(r){var n=new g;return n.add(e.schedule((function(){var i=t[x]();n.add(i.subscribe({next:function(t){n.add(e.schedule((function(){return r.next(t)})))},error:function(t){n.add(e.schedule((function(){return r.error(t)})))},complete:function(){n.add(e.schedule((function(){return r.complete()})))}}))}))),n}))}(t,e);if(E(t))return function(t,e){return new N((function(r){var n=new g;return n.add(e.schedule((function(){return t.then((function(t){n.add(e.schedule((function(){r.next(t),n.add(e.schedule((function(){return r.complete()})))})))}),(function(t){n.add(e.schedule((function(){return r.error(t)})))}))}))),n}))}(t,e);if(R(t))return z(t,e);if(function(t){return t&&"function"==typeof t[j]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new N((function(r){var n,i=new g;return i.add((function(){n&&"function"==typeof n.return&&n.return()})),i.add(e.schedule((function(){n=t[j](),i.add(e.schedule((function(){if(!r.closed){var t,e;try{var i=n.next();t=i.value,e=i.done}catch(a){return void r.error(a)}e?r.complete():(r.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof N?t:new N(T(t))}function F(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(n){return n.pipe(F((function(r,n){return H(t(r,n)).pipe(_((function(t,i){return e(r,t,n,i)})))}),r))}:("number"==typeof e&&(r=e),function(e){return e.lift(new q(t,r))})}var q=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new G(t,this.project,this.concurrent))}}]),t}(),G=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,r),(i=e.call(this,t)).project=n,i.concurrent=a,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(r,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e,t,r)}},{key:"_innerSub",value:function(t,e,r){var n=new w(this,e,r),i=this.destination;i.add(n);var a=M(this,t,void 0,void 0,n);a!==n&&i.add(a)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,r,n,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),r}(D);function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return F(P,t)}function B(){return V(1)}var W=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function Q(t,e){return function(r){return r.lift(new Y(t,e))}}var Y=function(){function t(e,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Z(t,this.predicate,this.thisArg))}}]),t}(),Z=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var a;return _classCallCheck(this,r),(a=e.call(this,t)).predicate=n,a.thisArg=i,a.count=0,a}return _createClass(r,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}]),r}(b),J=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),K=new N((function(t){return t.complete()}));function $(t){return t?function(t){return new N((function(e){return t.schedule((function(){return e.complete()}))}))}(t):K}function X(t){return function(e){return 0===t?$():e.lift(new tt(t))}}var tt=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new J}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new et(t,this.total))}}]),t}(),et=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n){var i;return _classCallCheck(this,r),(i=e.call(this,t)).total=n,i.ring=new Array,i.count=0,i}return _createClass(r,[{key:"_next",value:function(t){var e=this.ring,r=this.total,n=this.count++;e.length<r?e.push(t):e[n%r]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var a=e++%r;t.next(n[a])}t.complete()}}]),r}(b);function rt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at;return function(e){return e.lift(new nt(t))}}var nt=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new it(t,this.errorFactory))}}]),t}(),it=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n){var i;return _classCallCheck(this,r),(i=e.call(this,t)).errorFactory=n,i.hasValue=!1,i}return _createClass(r,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),r}(b);function at(){return new W}function ot(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new st(t))}}var st=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ut(t,this.defaultValue))}}]),t}(),ut=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n){var i;return _classCallCheck(this,r),(i=e.call(this,t)).defaultValue=n,i.isEmpty=!0,i}return _createClass(r,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),r}(b);function ct(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Q((function(e,r){return t(e,r,n)})):P,X(1),r?ot(e):rt((function(){return new W})))}}function lt(t){return function(e){var r=new ht(t),n=e.lift(r);return r.caught=n}}var ht=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ft(t,this.selector,this.caught))}}]),t}(),ft=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var a;return _classCallCheck(this,r),(a=e.call(this,t)).selector=n,a.caught=i,a}return _createClass(r,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(a){return void _get(_getPrototypeOf(r.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var n=new w(this,void 0,void 0);this.add(n);var i=M(this,e,void 0,void 0,n);i!==n&&this.add(i)}}}]),r}(D);function pt(t){return function(e){return 0===t?$():e.lift(new dt(t))}}var dt=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new J}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new vt(t,this.total))}}]),t}(),vt=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n){var i;return _classCallCheck(this,r),(i=e.call(this,t)).total=n,i.count=0,i}return _createClass(r,[{key:"_next",value:function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}]),r}(b);function gt(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Q((function(e,r){return t(e,r,n)})):P,pt(1),r?ot(e):rt((function(){return new W})))}}var mt=function(){function t(e,r,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=r,this.source=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new yt(t,this.predicate,this.thisArg,this.source))}}]),t}(),yt=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i,a){var o;return _classCallCheck(this,r),(o=e.call(this,t)).predicate=n,o.thisArg=i,o.source=a,o.index=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(r,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(r){return void this.destination.error(r)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),r}(b);function bt(t,e){return"function"==typeof e?function(r){return r.pipe(bt((function(r,n){return H(t(r,n)).pipe(_((function(t,i){return e(r,t,n,i)})))})))}:function(e){return e.lift(new Ct(t))}}var Ct=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new _t(t,this.project))}}]),t}(),_t=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n){var i;return _classCallCheck(this,r),(i=e.call(this,t)).project=n,i.index=0,i}return _createClass(r,[{key:"_next",value:function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(n){return void this.destination.error(n)}this._innerSub(e,t,r)}},{key:"_innerSub",value:function(t,e,r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new w(this,e,r),a=this.destination;a.add(i),this.innerSubscription=M(this,t,void 0,void 0,i),this.innerSubscription!==i&&a.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(r.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(r.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,r,n,i){this.destination.next(e)}}]),r}(D);function St(t){return t&&"function"==typeof t.schedule}function kt(){return B()((function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e[e.length-1];return St(n)?(e.pop(),z(e,n)):new N(O(e))}).apply(void 0,arguments))}function wt(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new Ot(t,e,r))}}var Ot=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=r,this.hasSeed=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new jt(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),jt=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i,a){var o;return _classCallCheck(this,r),(o=e.call(this,t)).accumulator=n,o._seed=i,o.hasSeed=a,o.index=0,o}return _createClass(r,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(n){this.destination.error(n)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),r}(b);function xt(t,e){return F(t,e,1)}function Rt(){}function Et(t,e,r){return function(n){return n.lift(new Pt(t,e,r))}}var Tt,Pt=function(){function t(e,r,n){_classCallCheck(this,t),this.nextOrObserver=e,this.error=r,this.complete=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ut(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),Ut=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i,a){var o;return _classCallCheck(this,r),(o=e.call(this,t))._tapNext=Rt,o._tapError=Rt,o._tapComplete=Rt,o._tapError=i||Rt,o._tapComplete=a||Rt,s(n)?(o._context=_assertThisInitialized(o),o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Rt,o._tapError=n.error||Rt,o._tapComplete=n.complete||Rt),o}return _createClass(r,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),r}(b),At=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new It(t,this.callback))}}]),t}(),It=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n){var i;return _classCallCheck(this,r),(i=e.call(this,t)).add(new g(n)),i}return r}(b),Nt=function t(e,r){_classCallCheck(this,t),this.id=e,this.url=r},Lt=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,r),(i=e.call(this,t,n)).navigationTrigger=a,i.restoredState=o,i}return _createClass(r,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),r}(Nt),Mt=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var a;return _classCallCheck(this,r),(a=e.call(this,t,n)).urlAfterRedirects=i,a}return _createClass(r,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),r}(Nt),Dt=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var a;return _classCallCheck(this,r),(a=e.call(this,t,n)).reason=i,a}return _createClass(r,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),r}(Nt),zt=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var a;return _classCallCheck(this,r),(a=e.call(this,t,n)).error=i,a}return _createClass(r,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),r}(Nt),Ht=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i,a){var o;return _classCallCheck(this,r),(o=e.call(this,t,n)).urlAfterRedirects=i,o.state=a,o}return _createClass(r,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),r}(Nt),Ft=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i,a){var o;return _classCallCheck(this,r),(o=e.call(this,t,n)).urlAfterRedirects=i,o.state=a,o}return _createClass(r,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),r}(Nt),qt=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i,a,o){var s;return _classCallCheck(this,r),(s=e.call(this,t,n)).urlAfterRedirects=i,s.state=a,s.shouldActivate=o,s}return _createClass(r,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),r}(Nt),Gt=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i,a){var o;return _classCallCheck(this,r),(o=e.call(this,t,n)).urlAfterRedirects=i,o.state=a,o}return _createClass(r,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),r}(Nt),Vt=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i,a){var o;return _classCallCheck(this,r),(o=e.call(this,t,n)).urlAfterRedirects=i,o.state=a,o}return _createClass(r,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),r}(Nt),Bt=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Wt=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Qt=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Yt=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Zt=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Jt=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Kt=function(){function t(e,r,n){_classCallCheck(this,t),this.routerEvent=e,this.position=r,this.anchor=n}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),$t=((Tt=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Tt)},Tt.\u0275cmp=n["\u0275\u0275defineComponent"]({type:Tt,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&n["\u0275\u0275element"](0,"router-outlet")},directives:function(){return[on]},encapsulation:2}),Tt),Xt=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function te(t){return new Xt(t)}function ee(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function re(t,e,r){var n=r.path.split("/");if(n.length>t.length)return null;if("full"===r.pathMatch&&(e.hasChildren()||n.length<t.length))return null;for(var i={},a=0;a<n.length;a++){var o=n[a],s=t[a];if(o.startsWith(":"))i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}var ne=function t(e,r){_classCallCheck(this,t),this.routes=e,this.module=r};function ie(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=0;r<t.length;r++){var n=t[r];ae(n,oe(e,n))}}function ae(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&ie(t.children,e)}function oe(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function se(t){var e=t.children&&t.children.map(se),r=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!r.component&&(e||r.loadChildren)&&r.outlet&&"primary"!==r.outlet&&(r.component=$t),r}function ue(t,e){var r,n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;for(var a=0;a<n.length;a++)if(!ce(t[r=n[a]],e[r]))return!1;return!0}function ce(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function le(t){return Array.prototype.concat.apply([],t)}function he(t){return t.length>0?t[t.length-1]:null}function fe(t,e){for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)}function pe(t){return Object(n["\u0275isObservable"])(t)?t:Object(n["\u0275isPromise"])(t)?Object(o.from)(Promise.resolve(t)):Object(o.of)(t)}function de(t,e,r){return r?function(t,e){return ue(t,e)}(t.queryParams,e.queryParams)&&function t(e,r){if(!ye(e.segments,r.segments))return!1;if(e.numberOfChildren!==r.numberOfChildren)return!1;for(var n in r.children){if(!e.children[n])return!1;if(!t(e.children[n],r.children[n]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(r){return ce(t[r],e[r])}))}(t.queryParams,e.queryParams)&&function t(e,r){return function e(r,n,i){if(r.segments.length>i.length)return!!ye(r.segments.slice(0,i.length),i)&&!n.hasChildren();if(r.segments.length===i.length){if(!ye(r.segments,i))return!1;for(var a in n.children){if(!r.children[a])return!1;if(!t(r.children[a],n.children[a]))return!1}return!0}var o=i.slice(0,r.segments.length),s=i.slice(r.segments.length);return!!ye(r.segments,o)&&!!r.children.primary&&e(r.children.primary,n,s)}(e,r,r.segments)}(t.root,e.root)}var ve=function(){function t(e,r,n){_classCallCheck(this,t),this.root=e,this.queryParams=r,this.fragment=n}return _createClass(t,[{key:"toString",value:function(){return Se.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=te(this.queryParams)),this._queryParamMap}}]),t}(),ge=function(){function t(e,r){var n=this;_classCallCheck(this,t),this.segments=e,this.children=r,this.parent=null,fe(r,(function(t,e){return t.parent=n}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return ke(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),me=function(){function t(e,r){_classCallCheck(this,t),this.path=e,this.parameters=r}return _createClass(t,[{key:"toString",value:function(){return Ee(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=te(this.parameters)),this._parameterMap}}]),t}();function ye(t,e){return t.length===e.length&&t.every((function(t,r){return t.path===e[r].path}))}function be(t,e){var r=[];return fe(t.children,(function(t,n){"primary"===n&&(r=r.concat(e(t,n)))})),fe(t.children,(function(t,n){"primary"!==n&&(r=r.concat(e(t,n)))})),r}var Ce=function t(){_classCallCheck(this,t)},_e=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Ie(t);return new ve(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,r){if(!e.hasChildren())return ke(e);if(r){var n=e.children.primary?t(e.children.primary,!1):"",i=[];return fe(e.children,(function(e,r){"primary"!==r&&i.push("".concat(r,":").concat(t(e,!1)))})),i.length>0?"".concat(n,"(").concat(i.join("//"),")"):n}var a=be(e,(function(r,n){return"primary"===n?[t(e.children.primary,!1)]:["".concat(n,":").concat(t(r,!1))]}));return"".concat(ke(e),"/(").concat(a.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,r=Object.keys(e).map((function(t){var r=e[t];return Array.isArray(r)?r.map((function(e){return"".concat(Oe(t),"=").concat(Oe(e))})).join("&"):"".concat(Oe(t),"=").concat(Oe(r))})),r.length?"?"+r.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,r}}]),t}(),Se=new _e;function ke(t){return t.segments.map((function(t){return Ee(t)})).join("/")}function we(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oe(t){return we(t).replace(/%3B/gi,";")}function je(t){return we(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xe(t){return decodeURIComponent(t)}function Re(t){return xe(t.replace(/\+/g,"%20"))}function Ee(t){return"".concat(je(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(je(t),"=").concat(je(e[t]))})).join("")));var e}var Te=/^[^\/()?;=#]+/;function Pe(t){var e=t.match(Te);return e?e[0]:""}var Ue=/^[^=?&#]+/,Ae=/^[^?&#]+/,Ie=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r.primary=new ge(t,e)),r}},{key:"parseSegment",value:function(){var t=Pe(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new me(xe(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Pe(this.remaining);if(e){this.capture(e);var r="";if(this.consumeOptional("=")){var n=Pe(this.remaining);n&&(r=n,this.capture(r))}t[xe(e)]=xe(r)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Ue);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var r="";if(this.consumeOptional("=")){var n=function(t){var e=t.match(Ae);return e?e[0]:""}(this.remaining);n&&(r=n,this.capture(r))}var i=Re(e),a=Re(r);if(t.hasOwnProperty(i)){var o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(a)}else t[i]=a}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var r=Pe(this.remaining),n=this.remaining[r.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;r.indexOf(":")>-1?(i=r.substr(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var a=this.parseChildren();e[i]=1===Object.keys(a).length?a.primary:new ge([],a),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Ne=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Le(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Le(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Me(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Me(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function Le(t,e){if(t===e.value)return e;var r,n=_createForOfIteratorHelper(e.children);try{for(n.s();!(r=n.n()).done;){var i=Le(t,r.value);if(i)return i}}catch(a){n.e(a)}finally{n.f()}return null}function Me(t,e){if(t===e.value)return[e];var r,n=_createForOfIteratorHelper(e.children);try{for(n.s();!(r=n.n()).done;){var i=Me(t,r.value);if(i.length)return i.unshift(e),i}}catch(a){n.e(a)}finally{n.f()}return[]}var De=function(){function t(e,r){_classCallCheck(this,t),this.value=e,this.children=r}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function ze(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var He=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n){var i;return _classCallCheck(this,r),(i=e.call(this,t)).snapshot=n,We(_assertThisInitialized(i),t),i}return _createClass(r,[{key:"toString",value:function(){return this.snapshot.toString()}}]),r}(Ne);function Fe(t,e){var r=function(t,e){var r=new Ve([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Be("",new De(r,[]))}(t,e),n=new o.BehaviorSubject([new me("",{})]),i=new o.BehaviorSubject({}),a=new o.BehaviorSubject({}),s=new o.BehaviorSubject({}),u=new o.BehaviorSubject(""),c=new qe(n,i,s,u,a,"primary",e,r.root);return c.snapshot=r.root,new He(new De(c,[]),r)}var qe=function(){function t(e,r,n,i,a,o,s,u){_classCallCheck(this,t),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=u}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(_((function(t){return te(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_((function(t){return te(t)})))),this._queryParamMap}}]),t}();function Ge(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",r=t.pathFromRoot,n=0;if("always"!==e)for(n=r.length-1;n>=1;){var i=r[n],a=r[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(a.component)break;n--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(r.slice(n))}var Ve=function(){function t(e,r,n,i,a,o,s,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=te(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=te(this.queryParams)),this._queryParamMap}}]),t}(),Be=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n){var i;return _classCallCheck(this,r),(i=e.call(this,n)).url=t,We(_assertThisInitialized(i),n),i}return _createClass(r,[{key:"toString",value:function(){return Qe(this._root)}}]),r}(Ne);function We(t,e){e.value._routerState=t,e.children.forEach((function(e){return We(t,e)}))}function Qe(t){var e=t.children.length>0?" { ".concat(t.children.map(Qe).join(", ")," } "):"";return"".concat(t.value).concat(e)}function Ye(t){if(t.snapshot){var e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,ue(e.queryParams,r.queryParams)||t.queryParams.next(r.queryParams),e.fragment!==r.fragment&&t.fragment.next(r.fragment),ue(e.params,r.params)||t.params.next(r.params),function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(!ue(t[r],e[r]))return!1;return!0}(e.url,r.url)||t.url.next(r.url),ue(e.data,r.data)||t.data.next(r.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ze(t,e){var r,n;return ue(t.params,e.params)&&ye(r=t.url,n=e.url)&&r.every((function(t,e){return ue(t.parameters,n[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||Ze(t.parent,e.parent))}function Je(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ke(t,e,r,n,i){var a={};return n&&fe(n,(function(t,e){a[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new ve(r.root===t?e:function t(e,r,n){var i={};return fe(e.children,(function(e,a){i[a]=e===r?n:t(e,r,n)})),new ge(e.segments,i)}(r.root,t,e),a,i)}var $e=function(){function t(e,r,n){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&Je(n[0]))throw new Error("Root segment cannot have matrix parameters");var i=n.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==he(n))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Xe=function t(e,r,n){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=r,this.index=n};function tr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function er(t,e,r){if(t||(t=new ge([],{})),0===t.segments.length&&t.hasChildren())return rr(t,e,r);var n=function(t,e,r){for(var n=0,i=e,a={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(n>=r.length)return a;var o=t.segments[i],s=tr(r[n]),u=n<r.length-1?r[n+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!or(s,u,o))return a;n+=2}else{if(!or(s,{},o))return a;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){var a=new ge(t.segments.slice(0,n.pathIndex),{});return a.children.primary=new ge(t.segments.slice(n.pathIndex),t.children),rr(a,0,i)}return n.match&&0===i.length?new ge(t.segments,{}):n.match&&!t.hasChildren()?nr(t,e,r):n.match?rr(t,0,i):nr(t,e,r)}function rr(t,e,r){if(0===r.length)return new ge(t.segments,{});var n=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(r),i={};return fe(n,(function(r,n){null!==r&&(i[n]=er(t.children[n],e,r))})),fe(t.children,(function(t,e){void 0===n[e]&&(i[e]=t)})),new ge(t.segments,i)}function nr(t,e,r){for(var n=t.segments.slice(0,e),i=0;i<r.length;){if("object"==typeof r[i]&&void 0!==r[i].outlets){var a=ir(r[i].outlets);return new ge(n,a)}if(0===i&&Je(r[0]))n.push(new me(t.segments[e].path,r[0])),i++;else{var o=tr(r[i]),s=i<r.length-1?r[i+1]:null;o&&s&&Je(s)?(n.push(new me(o,ar(s))),i+=2):(n.push(new me(o,{})),i++)}}return new ge(n,{})}function ir(t){var e={};return fe(t,(function(t,r){null!==t&&(e[r]=nr(new ge([],{}),0,t))})),e}function ar(t){var e={};return fe(t,(function(t,r){return e[r]=""+t})),e}function or(t,e,r){return t==r.path&&ue(e,r.parameters)}var sr=function(){function t(e,r,n,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Ye(this.futureState.root),this.activateChildRoutes(e,r,t)}},{key:"deactivateChildRoutes",value:function(t,e,r){var n=this,i=ze(e);t.children.forEach((function(t){var e=t.value.outlet;n.deactivateRoutes(t,i[e],r),delete i[e]})),fe(i,(function(t,e){n.deactivateRouteAndItsChildren(t,r)}))}},{key:"deactivateRoutes",value:function(t,e,r){var n=t.value,i=e?e.value:null;if(n===i)if(n.component){var a=r.getContext(n.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var r=e.getContext(t.value.outlet);if(r&&r.outlet){var n=r.outlet.detach(),i=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:n,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var r=this,n=e.getContext(t.value.outlet);if(n){var i=ze(t),a=t.value.component?n.children:e;fe(i,(function(t,e){return r.deactivateRouteAndItsChildren(t,a)})),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,r){var n=this,i=ze(e);t.children.forEach((function(t){n.activateRoutes(t,i[t.value.outlet],r),n.forwardEvent(new Jt(t.value.snapshot))})),t.children.length&&this.forwardEvent(new Yt(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,r){var n=t.value,i=e?e.value:null;if(Ye(n),n===i)if(n.component){var a=r.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,r);else if(n.component){var o=r.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){var s=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),ur(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var r=e.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(n.snapshot),c=u?u.module.componentFactoryResolver:null;o.attachRef=null,o.route=n,o.resolver=c,o.outlet&&o.outlet.activateWith(n,c),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}]),t}();function ur(t){Ye(t.value),t.children.forEach(ur)}function cr(t){return"function"==typeof t}function lr(t){return t instanceof ve}var hr=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},fr=function t(e){_classCallCheck(this,t),this.urlTree=e};function pr(t){return new o.Observable((function(e){return e.error(new hr(t))}))}function dr(t){return new o.Observable((function(e){return e.error(new fr(t))}))}function vr(t){return new o.Observable((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var gr=function(){function t(e,r,i,a,o){_classCallCheck(this,t),this.configLoader=r,this.urlSerializer=i,this.urlTree=a,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(n.NgModuleRef)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(_((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(lt((function(e){if(e instanceof fr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof hr)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(_((function(r){return e.createUrlTree(r,t.queryParams,t.fragment)}))).pipe(lt((function(t){if(t instanceof hr)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,r){var n=t.segments.length>0?new ge([],{primary:t}):t;return new ve(n,e,r)}},{key:"expandSegmentGroup",value:function(t,e,r,n){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(_((function(t){return new ge([],t)}))):this.expandSegment(t,r,e,r.segments,n,!0)}},{key:"expandChildren",value:function(t,e,r){var n=this;return function(r,i){if(0===Object.keys(r).length)return Object(o.of)({});var a=[],s=[],u={};return fe(r,(function(r,i){var o,c,l=(o=i,c=r,n.expandSegmentGroup(t,e,c,o)).pipe(_((function(t){return u[i]=t})));"primary"===i?a.push(l):s.push(l)})),o.of.apply(null,a.concat(s)).pipe(B(),ct(),_((function(){return u})))}(r.children)}},{key:"expandSegment",value:function(t,e,r,n,i,a){var s=this;return Object(o.of).apply(void 0,_toConsumableArray(r)).pipe(_((function(u){return s.expandSegmentAgainstRoute(t,e,r,u,n,i,a).pipe(lt((function(t){if(t instanceof hr)return Object(o.of)(null);throw t})))})),B(),gt((function(t){return!!t})),lt((function(t,r){if(t instanceof o.EmptyError||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,n,i))return Object(o.of)(new ge([],{}));throw new hr(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,r){return 0===e.length&&!t.children[r]}},{key:"expandSegmentAgainstRoute",value:function(t,e,r,n,i,a,o){return Cr(n)!==a?pr(e):void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,e,n,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,n,i,a):pr(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,r,n,i,a){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,n,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,n,i,a)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,r,n){var i=this,a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dr(a):this.lineralizeSegments(r,a).pipe(F((function(r){var a=new ge(r,{});return i.expandSegment(t,a,e,r,n,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,r,n,i,a){var o=this,s=mr(e,n,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return pr(e);var f=this.applyRedirectCommands(c,n.redirectTo,h);return n.redirectTo.startsWith("/")?dr(f):this.lineralizeSegments(n,f).pipe(F((function(n){return o.expandSegment(t,e,r,n.concat(i.slice(l)),a,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,r,n){var i=this;if("**"===r.path)return r.loadChildren?this.configLoader.load(t.injector,r).pipe(_((function(t){return r._loadedConfig=t,new ge(n,{})}))):Object(o.of)(new ge(n,{}));var a=mr(e,r,n),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return pr(e);var l=n.slice(c);return this.getChildConfig(t,r,n).pipe(F((function(t){var r=t.module,n=t.routes,a=function(t,e,r,n){return r.length>0&&function(t,e,r){return r.some((function(r){return br(t,e,r)&&"primary"!==Cr(r)}))}(t,r,n)?{segmentGroup:yr(new ge(e,function(t,e){var r={};r.primary=e;var n,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;""===a.path&&"primary"!==Cr(a)&&(r[Cr(a)]=new ge([],{}))}}catch(o){i.e(o)}finally{i.f()}return r}(n,new ge(r,t.children)))),slicedSegments:[]}:0===r.length&&function(t,e,r){return r.some((function(r){return br(t,e,r)}))}(t,r,n)?{segmentGroup:yr(new ge(t.segments,function(t,e,r,n){var i,a={},o=_createForOfIteratorHelper(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;br(t,e,s)&&!n[Cr(s)]&&(a[Cr(s)]=new ge([],{}))}}catch(u){o.e(u)}finally{o.f()}return Object.assign(Object.assign({},n),a)}(t,r,n,t.children))),slicedSegments:r}:{segmentGroup:t,slicedSegments:r}}(e,u,l,n),s=a.segmentGroup,c=a.slicedSegments;return 0===c.length&&s.hasChildren()?i.expandChildren(r,n,s).pipe(_((function(t){return new ge(u,t)}))):0===n.length&&0===c.length?Object(o.of)(new ge(u,{})):i.expandSegment(r,s,n,c,"primary",!0).pipe(_((function(t){return new ge(u.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,r){var n=this;return e.children?Object(o.of)(new ne(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.of)(e._loadedConfig):function(t,e,r){var n,i=e.canLoad;return i&&0!==i.length?Object(o.from)(i).pipe(_((function(n){var i,a=t.get(n);if(function(t){return t&&cr(t.canLoad)}(a))i=a.canLoad(e,r);else{if(!cr(a))throw new Error("Invalid CanLoad guard");i=a(e,r)}return pe(i)}))).pipe(B(),(n=function(t){return!0===t},function(t){return t.lift(new mt(n,void 0,t))})):Object(o.of)(!0)}(t.injector,e,r).pipe(F((function(r){return r?n.configLoader.load(t.injector,e).pipe(_((function(t){return e._loadedConfig=t,t}))):function(t){return new o.Observable((function(e){return e.error(ee("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(o.of)(new ne([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var r=[],n=e.root;;){if(r=r.concat(n.segments),0===n.numberOfChildren)return Object(o.of)(r);if(n.numberOfChildren>1||!n.children.primary)return vr(t.redirectTo);n=n.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,r,n){var i=this.createSegmentGroup(t,e.root,r,n);return new ve(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var r={};return fe(t,(function(t,n){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);r[n]=e[i]}else r[n]=t})),r}},{key:"createSegmentGroup",value:function(t,e,r,n){var i=this,a=this.createSegments(t,e.segments,r,n),o={};return fe(e.children,(function(e,a){o[a]=i.createSegmentGroup(t,e,r,n)})),new ge(a,o)}},{key:"createSegments",value:function(t,e,r,n){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,n):i.findOrReturn(e,r)}))}},{key:"findPosParam",value:function(t,e,r){var n=r[e.path.substring(1)];if(!n)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return n}},{key:"findOrReturn",value:function(t,e){var r,n=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.path===t.path)return e.splice(n),a;n++}}catch(o){i.e(o)}finally{i.f()}return t}}]),t}();function mr(t,e,r){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||r.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var n=(e.matcher||re)(r,t,e);return n?{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,positionalParamSegments:n.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function yr(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new ge(t.segments.concat(e.segments),e.children)}return t}function br(t,e,r){return(!(t.hasChildren()||e.length>0)||"full"!==r.pathMatch)&&""===r.path&&void 0!==r.redirectTo}function Cr(t){return t.outlet||"primary"}var _r=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Sr=function t(e,r){_classCallCheck(this,t),this.component=e,this.route=r};function kr(t,e,r){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var r=e.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(e);return(n?n.module.injector:r).get(t)}function wr(t,e,r){var n=ze(t),i=t.value;fe(n,(function(t,n){wr(t,i.component?e?e.children.getContext(n):null:e,r)})),r.canDeactivateChecks.push(new Sr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Or=Symbol("INITIAL_VALUE");function jr(){return bt((function(t){return Object(o.combineLatest).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(pt(1),function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e[e.length-1];return St(n)?(e.pop(),function(t){return kt(e,t,n)}):function(t){return kt(e,t)}}(Or))})))).pipe(wt((function(t,e){var r=!1;return e.reduce((function(t,n,i){if(t!==Or)return t;if(n===Or&&(r=!0),!r){if(!1===n)return n;if(i===e.length-1||lr(n))return n}return t}),t)}),Or),Q((function(t){return t!==Or})),_((function(t){return lr(t)?t:!0===t})),pt(1))}))}function xr(t,e){return null!==t&&e&&e(new Zt(t)),Object(o.of)(!0)}function Rr(t,e){return null!==t&&e&&e(new Qt(t)),Object(o.of)(!0)}function Er(t,e,r){var n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||0===n.length)return Object(o.of)(!0);var i=n.map((function(n){return Object(o.defer)((function(){var i,a=kr(n,e,r);if(function(t){return t&&cr(t.canActivate)}(a))i=pe(a.canActivate(e,t));else{if(!cr(a))throw new Error("Invalid CanActivate guard");i=pe(a(e,t))}return i.pipe(gt())}))}));return Object(o.of)(i).pipe(jr())}function Tr(t,e,r){var n=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Object(o.defer)((function(){var i=e.guards.map((function(i){var a,o=kr(i,e.node,r);if(function(t){return t&&cr(t.canActivateChild)}(o))a=pe(o.canActivateChild(n,t));else{if(!cr(o))throw new Error("Invalid CanActivateChild guard");a=pe(o(n,t))}return a.pipe(gt())}));return Object(o.of)(i).pipe(jr())}))}));return Object(o.of)(i).pipe(jr())}var Pr=function t(){_classCallCheck(this,t)},Ur=function(){function t(e,r,n,i,a,o){_classCallCheck(this,t),this.rootComponentType=e,this.config=r,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return _createClass(t,[{key:"recognize",value:function(){try{var t=Nr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),r=new Ve([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),n=new De(r,e),i=new Be(this.url,n);return this.inheritParamsAndData(i._root),Object(o.of)(i)}catch(a){return new o.Observable((function(t){return t.error(a)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,r=t.value,n=Ge(r,this.paramsInheritanceStrategy);r.params=Object.freeze(n.params),r.data=Object.freeze(n.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}},{key:"processChildren",value:function(t,e){var r,n=this,i=be(e,(function(e,r){return n.processSegmentGroup(t,e,r)}));return r={},i.forEach((function(t){var e=r[t.value.outlet];if(e){var n=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(n,"' and '").concat(i,"'."))}r[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,r,n){var i,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;try{return this.processSegmentAgainstRoute(o,e,r,n)}catch(s){if(!(s instanceof Pr))throw s}}}catch(u){a.e(u)}finally{a.f()}if(this.noLeftoversInUrl(e,r,n))return[];throw new Pr}},{key:"noLeftoversInUrl",value:function(t,e,r){return 0===e.length&&!t.children[r]}},{key:"processSegmentAgainstRoute",value:function(t,e,r,n){if(t.redirectTo)throw new Pr;if((t.outlet||"primary")!==n)throw new Pr;var i,a=[],o=[];if("**"===t.path){var s=r.length>0?he(r).parameters:{};i=new Ve(r,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dr(t),n,t.component,t,Ar(e),Ir(e)+r.length,zr(t))}else{var u=function(t,e,r){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||r.length>0))throw new Pr;return{consumedSegments:[],lastChild:0,parameters:{}}}var n=(e.matcher||re)(r,t,e);if(!n)throw new Pr;var i={};fe(n.posParams,(function(t,e){i[e]=t.path}));var a=n.consumed.length>0?Object.assign(Object.assign({},i),n.consumed[n.consumed.length-1].parameters):i;return{consumedSegments:n.consumed,lastChild:n.consumed.length,parameters:a}}(e,t,r);a=u.consumedSegments,o=r.slice(u.lastChild),i=new Ve(a,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dr(t),n,t.component,t,Ar(e),Ir(e)+a.length,zr(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Nr(e,a,o,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var p=this.processChildren(c,h);return[new De(i,p)]}if(0===c.length&&0===f.length)return[new De(i,[])];var d=this.processSegment(c,h,f,"primary");return[new De(i,d)]}}]),t}();function Ar(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Ir(t){for(var e=t,r=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)r+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return r-1}function Nr(t,e,r,n,i){if(r.length>0&&function(t,e,r){return r.some((function(r){return Lr(t,e,r)&&"primary"!==Mr(r)}))}(t,r,n)){var a=new ge(e,function(t,e,r,n){var i={};i.primary=n,n._sourceSegment=t,n._segmentIndexShift=e.length;var a,o=_createForOfIteratorHelper(r);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(""===s.path&&"primary"!==Mr(s)){var u=new ge([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[Mr(s)]=u}}}catch(c){o.e(c)}finally{o.f()}return i}(t,e,n,new ge(r,t.children)));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===r.length&&function(t,e,r){return r.some((function(r){return Lr(t,e,r)}))}(t,r,n)){var o=new ge(t.segments,function(t,e,r,n,i,a){var o,s={},u=_createForOfIteratorHelper(n);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(Lr(t,r,c)&&!i[Mr(c)]){var l=new ge([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===a?t.segments.length:e.length,s[Mr(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(t,e,r,n,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:r}}var s=new ge(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:r}}function Lr(t,e,r){return(!(t.hasChildren()||e.length>0)||"full"!==r.pathMatch)&&""===r.path&&void 0===r.redirectTo}function Mr(t){return t.outlet||"primary"}function Dr(t){return t.data||{}}function zr(t){return t.resolve||{}}function Hr(t,e,r,n){var i=kr(t,e,n);return pe(i.resolve?i.resolve(e,r):i(e,r))}function Fr(t){return function(e){return e.pipe(bt((function(e){var r=t(e);return r?Object(o.from)(r).pipe(_((function(){return e}))):Object(o.from)([e])})))}}var qr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),Gr=new n.InjectionToken("ROUTES"),Vr=function(){function t(e,r,n,i){_classCallCheck(this,t),this.loader=e,this.compiler=r,this.onLoadStartListener=n,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var r=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(_((function(n){r.onLoadEndListener&&r.onLoadEndListener(e);var i=n.create(t);return new ne(le(i.injector.get(Gr)).map(se),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(o.from)(this.loader.load(t)):pe(t()).pipe(F((function(t){return t instanceof n.NgModuleFactory?Object(o.of)(t):Object(o.from)(e.compiler.compileModuleAsync(t))})))}}]),t}(),Br=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Wr(t){throw t}function Qr(t,e,r){return e.parse("/")}function Yr(t,e){return Object(o.of)(null)}var Zr,Jr,Kr=((Jr=function(){function t(e,r,i,a,s,u,c,l){var h=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new o.Subject,this.errorHandler=Wr,this.malformedUriErrorHandler=Qr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yr,afterPreactivation:Yr},this.urlHandlingStrategy=new Br,this.routeReuseStrategy=new qr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(n.NgModuleRef),this.console=s.get(n["\u0275Console"]);var f=s.get(n.NgZone);this.isNgZoneEnabled=f instanceof n.NgZone,this.resetConfig(l),this.currentUrlTree=new ve(new ge([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Vr(u,c,(function(t){return h.triggerEvent(new Bt(t))}),(function(t){return h.triggerEvent(new Wt(t))})),this.routerState=Fe(this.currentUrlTree,this.rootComponentType),this.transitions=new o.BehaviorSubject({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,r=this.events;return t.pipe(Q((function(t){return 0!==t.id})),_((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),bt((function(t){var n,i,a,s,u=!1,c=!1;return Object(o.of)(t).pipe(Et((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),bt((function(t){var n,i,a,s,u=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||u)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.of)(t).pipe(bt((function(t){var n=e.transitions.getValue();return r.next(new Lt(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==e.transitions.getValue()?o.EMPTY:[t]})),bt((function(t){return Promise.resolve(t)})),(n=e.ngModule.injector,i=e.configLoader,a=e.urlSerializer,s=e.config,function(t){return t.pipe(bt((function(t){return function(t,e,r,n,i){return new gr(t,e,r,n,i).apply()}(n,i,a,t.extractedUrl,s).pipe(_((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Et((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,r,n,i,a){return function(n){return n.pipe(F((function(n){return function(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Ur(t,e,r,n,i,a).recognize()}(t,r,n.urlAfterRedirects,(o=n.urlAfterRedirects,e.serializeUrl(o)),i,a).pipe(_((function(t){return Object.assign(Object.assign({},n),{targetSnapshot:t})})));var o})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Et((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Et((function(t){var n=new Ht(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);r.next(n)})));if(u&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var c=t.id,l=t.extractedUrl,h=t.source,f=t.restoredState,p=t.extras,d=new Lt(c,e.serializeUrl(l),h,f);r.next(d);var v=Fe(l,e.rootComponentType).snapshot;return Object(o.of)(Object.assign(Object.assign({},t),{targetSnapshot:v,urlAfterRedirects:l,extras:Object.assign(Object.assign({},p),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),o.EMPTY})),Fr((function(t){var r=t.targetSnapshot,n=t.id,i=t.extractedUrl,a=t.rawUrl,o=t.extras,s=o.skipLocationChange,u=o.replaceUrl;return e.hooks.beforePreactivation(r,{navigationId:n,appliedUrlTree:i,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!u})})),Et((function(t){var r=new Ft(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(r)})),_((function(t){return Object.assign(Object.assign({},t),{guards:(r=t.targetSnapshot,n=t.currentSnapshot,i=e.rootContexts,a=r._root,function t(e,r,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=ze(r);return e.children.forEach((function(e){!function(e,r,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,s=r?r.value:null,u=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){var c=function(t,e,r){if("function"==typeof r)return r(t,e);switch(r){case"pathParamsChange":return!ye(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ye(t.url,e.url)||!ue(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ze(t,e)||!ue(t.queryParams,e.queryParams);case"paramsChange":default:return!Ze(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?a.canActivateChecks.push(new _r(i)):(o.data=s.data,o._resolvedData=s._resolvedData),t(e,r,o.component?u?u.children:null:n,i,a),c&&a.canDeactivateChecks.push(new Sr(u&&u.outlet&&u.outlet.component||null,s))}else s&&wr(r,u,a),a.canActivateChecks.push(new _r(i)),t(e,null,o.component?u?u.children:null:n,i,a)}(e,o[e.value.outlet],n,i.concat([e.value]),a),delete o[e.value.outlet]})),fe(o,(function(t,e){return wr(t,n.getContext(e),a)})),a}(a,n?n._root:null,i,[a.value]))});var r,n,i,a})),function(t,e){return function(r){return r.pipe(F((function(r){var n=r.targetSnapshot,i=r.currentSnapshot,a=r.guards,s=a.canActivateChecks,u=a.canDeactivateChecks;return 0===u.length&&0===s.length?Object(o.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(t,e,r,n){return Object(o.from)(t).pipe(F((function(t){return function(t,e,r,n,i){var a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return Object(o.of)(!0);var s=a.map((function(a){var o,s=kr(a,e,i);if(function(t){return t&&cr(t.canDeactivate)}(s))o=pe(s.canDeactivate(t,e,r,n));else{if(!cr(s))throw new Error("Invalid CanDeactivate guard");o=pe(s(t,e,r,n))}return o.pipe(gt())}));return Object(o.of)(s).pipe(jr())}(t.component,t.route,r,e,n)})),gt((function(t){return!0!==t}),!0))}(u,n,i,t).pipe(F((function(r){return r&&"boolean"==typeof r?function(t,e,r,n){return Object(o.from)(e).pipe(xt((function(e){return Object(o.from)([Rr(e.route.parent,n),xr(e.route,n),Tr(t,e.path,r),Er(t,e.route,r)]).pipe(B(),gt((function(t){return!0!==t}),!0))})),gt((function(t){return!0!==t}),!0))}(n,s,t,e):Object(o.of)(r)})),_((function(t){return Object.assign(Object.assign({},r),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Et((function(t){if(lr(t.guardsResult)){var r=ee('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw r.url=t.guardsResult,r}})),Et((function(t){var r=new qt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)})),Q((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var n=new Dt(t.id,e.serializeUrl(t.extractedUrl),"");return r.next(n),t.resolve(!1),!1}return!0})),Fr((function(t){if(t.guards.canActivateChecks.length)return Object(o.of)(t).pipe(Et((function(t){var r=new Gt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(r)})),(r=e.paramsInheritanceStrategy,n=e.ngModule.injector,function(t){return t.pipe(F((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(o.from)(i).pipe(xt((function(t){return function(t,e,r,n){return function(t,e,r,n){var i=Object.keys(t);if(0===i.length)return Object(o.of)({});if(1===i.length){var a=i[0];return Hr(t[a],e,r,n).pipe(_((function(t){return _defineProperty({},a,t)})))}var s={};return Object(o.from)(i).pipe(F((function(i){return Hr(t[i],e,r,n).pipe(_((function(t){return s[i]=t,t})))}))).pipe(ct(),_((function(){return s})))}(t._resolve,t,e,n).pipe(_((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ge(t,r).resolve),null})))}(t.route,e,r,n)})),function(t,e){return arguments.length>=2?function(r){return U(wt(t,e),X(1),ot(e))(r)}:function(e){return U(wt((function(e,r,n){return t(e,r,n+1)})),X(1))(e)}}((function(t,e){return t})),_((function(e){return t}))):Object(o.of)(t)})))}),Et((function(t){var r=new Vt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(r)})));var r,n})),Fr((function(t){var r=t.targetSnapshot,n=t.id,i=t.extractedUrl,a=t.rawUrl,o=t.extras,s=o.skipLocationChange,u=o.replaceUrl;return e.hooks.afterPreactivation(r,{navigationId:n,appliedUrlTree:i,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!u})})),_((function(t){var r=function(t,e,r){var n=function t(e,r,n){if(n&&e.shouldReuseRoute(r.value,n.value.snapshot)){var i=n.value;i._futureSnapshot=r.value;var a=function(e,r,n){return r.children.map((function(r){var i,a=_createForOfIteratorHelper(n.children);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(e.shouldReuseRoute(o.value.snapshot,r.value))return t(e,r,o)}}catch(s){a.e(s)}finally{a.f()}return t(e,r)}))}(e,r,n);return new De(i,a)}var s=e.retrieve(r.value);if(s){var u=s.route;return function t(e,r){if(e.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)t(e.children[n],r.children[n])}(r,u),u}var c,l=new qe(new o.BehaviorSubject((c=r.value).url),new o.BehaviorSubject(c.params),new o.BehaviorSubject(c.queryParams),new o.BehaviorSubject(c.fragment),new o.BehaviorSubject(c.data),c.outlet,c.component,c),h=r.children.map((function(r){return t(e,r)}));return new De(l,h)}(t,e._root,r?r._root:void 0);return new He(n,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:r})})),Et((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,a=e.routeReuseStrategy,s=function(t){return e.triggerEvent(t)},_((function(t){return new sr(a,t.targetRouterState,t.currentRouterState,s).activate(i),t}))),Et({next:function(){u=!0},complete:function(){u=!0}}),(n=function(){if(!u&&!c){e.resetUrlToCurrentUrlTree();var n=new Dt(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));r.next(n),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new At(n))}),lt((function(n){if(c=!0,(u=n)&&u.ngNavigationCancelingError){var i=lr(n.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var a=new Dt(t.id,e.serializeUrl(t.extractedUrl),n.message);r.next(a),i?setTimeout((function(){var r=e.urlHandlingStrategy.merge(n.url,e.rawUrlTree);return e.scheduleNavigation(r,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var s=new zt(t.id,e.serializeUrl(t.extractedUrl),n);r.next(s);try{t.resolve(e.errorHandler(n))}catch(l){t.reject(l)}}var u;return o.EMPTY})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var r=t.parseUrl(e.url),n="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(r,n,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){ie(t),this.config=t.map(se),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.relativeTo,i=e.queryParams,a=e.fragment,o=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(n.isDevMode)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=r||this.routerState.root,l=u?this.currentUrlTree.fragment:a,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,r,n,i){if(0===r.length)return Ke(e.root,e.root,e,n,i);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $e(!0,0,t);var e=0,r=!1,n=t.reduce((function(t,n,i){if("object"==typeof n&&null!=n){if(n.outlets){var a={};return fe(n.outlets,(function(t,e){a[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:a}])}if(n.segmentPath)return[].concat(_toConsumableArray(t),[n.segmentPath])}return"string"!=typeof n?[].concat(_toConsumableArray(t),[n]):0===i?(n.split("/").forEach((function(n,i){0==i&&"."===n||(0==i&&""===n?r=!0:".."===n?e++:""!=n&&t.push(n))})),t):[].concat(_toConsumableArray(t),[n])}),[]);return new $e(r,e,n)}(r);if(a.toRoot())return Ke(e.root,new ge([],{}),e,n,i);var o=function(t,e,r){if(t.isAbsolute)return new Xe(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Xe(r.snapshot._urlSegment,!0,0);var n=Je(t.commands[0])?0:1;return function(t,e,r){for(var n=t,i=e,a=r;a>i;){if(a-=i,!(n=n.parent))throw new Error("Invalid number of '../'");i=n.segments.length}return new Xe(n,!1,i-a)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+n,t.numberOfDoubleDots)}(a,e,t),s=o.processChildren?rr(o.segmentGroup,o.index,a.commands):er(o.segmentGroup,o.index,a.commands);return Ke(o.segmentGroup,s,e,n,i)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(n.isDevMode)()&&this.isNgZoneEnabled&&!n.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var r=lr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var r=t[e];if(null==r)throw new Error("The requested path contains ".concat(r," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(r){e=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(lr(t))return de(this.currentUrlTree,t,e);var r=this.parseUrl(t);return de(this.currentUrlTree,r,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,r){var n=t[r];return null!=n&&(e[r]=n),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Mt(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,r,n,i){var a,o,s,u=this.getTransition();if(u&&"imperative"!==e&&"imperative"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"hashchange"==e&&"popstate"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"popstate"==e&&"hashchange"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);i?(a=i.resolve,o=i.reject,s=i.promise):s=new Promise((function(t,e){a=t,o=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:n,resolve:a,reject:o,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,r,n){var i=this.urlSerializer.serialize(t);n=n||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},n),{navigationId:r})):this.location.go(i,"",Object.assign(Object.assign({},n),{navigationId:r}))}},{key:"resetStateAndUrl",value:function(t,e,r){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){n["\u0275\u0275invalidFactory"]()},Jr.\u0275dir=n["\u0275\u0275defineDirective"]({type:Jr}),Jr),$r=((Zr=function(){function t(e,r,n){var i=this;_classCallCheck(this,t),this.router=e,this.route=r,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe((function(t){t instanceof Mt&&i.updateTargetUrlAndHref()}))}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,r,n){if(0!==t||e||r||n)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Xr(this.skipLocationChange),replaceUrl:Xr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(n.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Xr(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Xr(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||Zr)(n["\u0275\u0275directiveInject"](Kr),n["\u0275\u0275directiveInject"](qe),n["\u0275\u0275directiveInject"](a.LocationStrategy))},Zr.\u0275dir=n["\u0275\u0275defineDirective"]({type:Zr,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&n["\u0275\u0275listener"]("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(n["\u0275\u0275hostProperty"]("href",e.href,n["\u0275\u0275sanitizeUrl"]),n["\u0275\u0275attribute"]("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[n["\u0275\u0275NgOnChangesFeature"]]}),Zr);function Xr(t){return""===t||!!t}var tn,en,rn,nn=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new an,this.attachRef=null},an=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new nn,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),on=((tn=function(){function t(e,r,i,a,o){_classCallCheck(this,t),this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new n.EventEmitter,this.deactivateEvents=new n.EventEmitter,this.name=a||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var r=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,i=new sn(t,n,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||tn)(n["\u0275\u0275directiveInject"](an),n["\u0275\u0275directiveInject"](n.ViewContainerRef),n["\u0275\u0275directiveInject"](n.ComponentFactoryResolver),n["\u0275\u0275injectAttribute"]("name"),n["\u0275\u0275directiveInject"](n.ChangeDetectorRef))},tn.\u0275dir=n["\u0275\u0275defineDirective"]({type:tn,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),tn),sn=function(){function t(e,r,n){_classCallCheck(this,t),this.route=e,this.childContexts=r,this.parent=n}return _createClass(t,[{key:"get",value:function(t,e){return t===qe?this.route:t===an?this.childContexts:this.parent.get(t,e)}}]),t}(),un=function t(){_classCallCheck(this,t)},cn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(o.of)(null)}}]),t}(),ln=((rn=function(){function t(e,r,n,i,a){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=a,this.loader=new Vr(r,n,(function(t){return e.triggerEvent(new Bt(t))}),(function(t){return e.triggerEvent(new Wt(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Q((function(t){return t instanceof Mt})),xt((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(n.NgModuleRef);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var r,n=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var s=a._loadedConfig;n.push(this.processRoutes(s.module,s.routes))}else a.loadChildren&&!a.canLoad?n.push(this.preloadConfig(t,a)):a.children&&n.push(this.processRoutes(t,a.children))}}catch(u){i.e(u)}finally{i.f()}return Object(o.from)(n).pipe(V(),_((function(t){})))}},{key:"preloadConfig",value:function(t,e){var r=this;return this.preloadingStrategy.preload(e,(function(){return r.loader.load(t.injector,e).pipe(F((function(t){return e._loadedConfig=t,r.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||rn)(n["\u0275\u0275inject"](Kr),n["\u0275\u0275inject"](n.NgModuleFactoryLoader),n["\u0275\u0275inject"](n.Compiler),n["\u0275\u0275inject"](n.Injector),n["\u0275\u0275inject"](un))},rn.\u0275prov=n["\u0275\u0275defineInjectable"]({token:rn,factory:rn.\u0275fac}),rn),hn=((en=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=r,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Lt?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Mt&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Kt&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new Kt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){n["\u0275\u0275invalidFactory"]()},en.\u0275dir=n["\u0275\u0275defineDirective"]({type:en}),en),fn=new n.InjectionToken("ROUTER_CONFIGURATION"),pn=new n.InjectionToken("ROUTER_FORROOT_GUARD"),dn=[a.Location,{provide:Ce,useClass:_e},{provide:Kr,useFactory:function(t,e,r,n,i,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new Kr(null,t,e,r,n,i,o,le(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=Object(a["\u0275getDOM"])();h.events.subscribe((function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Ce,an,a.Location,n.Injector,n.NgModuleFactoryLoader,n.Compiler,Gr,fn,[function(){return function t(){_classCallCheck(this,t)}}(),new n.Optional],[function(){return function t(){_classCallCheck(this,t)}}(),new n.Optional]]},an,{provide:qe,useFactory:function(t){return t.routerState.root},deps:[Kr]},{provide:n.NgModuleFactoryLoader,useClass:n.SystemJsNgModuleLoader},ln,cn,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(lt((function(){return Object(o.of)(null)})))}}]),t}(),{provide:fn,useValue:{enableTracing:!1}}];function vn(){return new n.NgProbeToken("Router",Kr)}var gn,mn=((gn=function(){function t(e,r){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,r){return{ngModule:t,providers:[dn,_n(e),{provide:pn,useFactory:Cn,deps:[[Kr,new n.Optional,new n.SkipSelf]]},{provide:fn,useValue:r||{}},{provide:a.LocationStrategy,useFactory:bn,deps:[a.PlatformLocation,[new n.Inject(a.APP_BASE_HREF),new n.Optional],fn]},{provide:hn,useFactory:yn,deps:[Kr,a.ViewportScroller,fn]},{provide:un,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:cn},{provide:n.NgProbeToken,multi:!0,useFactory:vn},[kn,{provide:n.APP_INITIALIZER,multi:!0,useFactory:wn,deps:[kn]},{provide:Pn,useFactory:On,deps:[kn]},{provide:n.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Pn}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[_n(e)]}}}]),t}()).\u0275mod=n["\u0275\u0275defineNgModule"]({type:gn}),gn.\u0275inj=n["\u0275\u0275defineInjector"]({factory:function(t){return new(t||gn)(n["\u0275\u0275inject"](pn,8),n["\u0275\u0275inject"](Kr,8))}}),gn);function yn(t,e,r){return r.scrollOffset&&e.setOffset(r.scrollOffset),new hn(t,e,r)}function bn(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.useHash?new a.HashLocationStrategy(t,e):new a.PathLocationStrategy(t,e)}function Cn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function _n(t){return[{provide:n.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:Gr,multi:!0,useValue:t}]}var Sn,kn=((Sn=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new o.Subject}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(a.LOCATION_INITIALIZED,Promise.resolve(null)).then((function(){var e=null,r=new Promise((function(t){return e=t})),n=t.injector.get(Kr),i=t.injector.get(fn);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));n.hooks.afterPreactivation=function(){return t.initNavigation?Object(o.of)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},n.initialNavigation()}return r}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(fn),r=this.injector.get(ln),i=this.injector.get(hn),a=this.injector.get(Kr),o=this.injector.get(n.ApplicationRef);t===o.components[0]&&(this.isLegacyEnabled(e)?a.initialNavigation():this.isLegacyDisabled(e)&&a.setUpLocationChangeListener(),r.setUpPreloading(),i.init(),a.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||Sn)(n["\u0275\u0275inject"](n.Injector))},Sn.\u0275prov=n["\u0275\u0275defineInjectable"]({token:Sn,factory:Sn.\u0275fac}),Sn);function wn(t){return t.appInitializer.bind(t)}function On(t){return t.bootstrapListener.bind(t)}var jn,xn,Rn,En,Tn,Pn=new n.InjectionToken("Router Initializer"),Un=((jn=function(){function t(e){_classCallCheck(this,t),this.router=e,this.title="sideApp"}return _createClass(t,[{key:"ngOnInit",value:function(){this.router.navigate(["/sideApp/home"])}}]),t}()).\u0275fac=function(t){return new(t||jn)(n["\u0275\u0275directiveInject"](Kr))},jn.\u0275cmp=n["\u0275\u0275defineComponent"]({type:jn,selectors:[["app-root"]],decls:3,vars:0,template:function(t,e){1&t&&(n["\u0275\u0275elementStart"](0,"div"),n["\u0275\u0275text"](1,"I am side app"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275element"](2,"router-outlet"))},directives:[on],styles:[""],encapsulation:3}),jn),An=r("g/Wr"),In=((Tn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Tn)},Tn.\u0275cmp=n["\u0275\u0275defineComponent"]({type:Tn,selectors:[["app-home"]],decls:14,vars:0,consts:[["routerLink","/sideApp/details",2,"color","blue"]],template:function(t,e){1&t&&(n["\u0275\u0275elementStart"](0,"p"),n["\u0275\u0275text"](1,"home works!"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](2,"p"),n["\u0275\u0275text"](3,"information about topic1 ... "),n["\u0275\u0275elementStart"](4,"a",0),n["\u0275\u0275text"](5,"read more"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](6,"p"),n["\u0275\u0275text"](7,"information about topic2 ... "),n["\u0275\u0275elementStart"](8,"a",0),n["\u0275\u0275text"](9,"read more"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](10,"p"),n["\u0275\u0275text"](11,"information about topic3 ... "),n["\u0275\u0275elementStart"](12,"a",0),n["\u0275\u0275text"](13,"read more"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]())},directives:[$r],styles:[""]}),Tn),Nn=((En=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||En)},En.\u0275cmp=n["\u0275\u0275defineComponent"]({type:En,selectors:[["app-details"]],decls:5,vars:0,consts:[["routerLink","/sideApp/home"]],template:function(t,e){1&t&&(n["\u0275\u0275elementStart"](0,"p"),n["\u0275\u0275text"](1,"details works!"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](2,"p"),n["\u0275\u0275elementStart"](3,"a",0),n["\u0275\u0275text"](4,"back"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]())},directives:[$r],styles:[""]}),En),Ln=((Rn=function t(){_classCallCheck(this,t)}).\u0275mod=n["\u0275\u0275defineNgModule"]({type:Rn}),Rn.\u0275inj=n["\u0275\u0275defineInjector"]({factory:function(t){return new(t||Rn)},imports:[[mn.forRoot([{path:"sideApp/home",component:In},{path:"sideApp/details",component:Nn}],{useHash:!0})],mn]}),Rn),Mn=((xn=function(){function t(e){_classCallCheck(this,t),this.injector=e}return _createClass(t,[{key:"ngDoBootstrap",value:function(){var t=Object(An.createCustomElement)(Un,{injector:this.injector});customElements.define("side-app",t)}}]),t}()).\u0275mod=n["\u0275\u0275defineNgModule"]({type:xn}),xn.\u0275inj=n["\u0275\u0275defineInjector"]({factory:function(t){return new(t||xn)(n["\u0275\u0275inject"](n.Injector))},providers:[],imports:[[i.BrowserModule,Ln]]}),xn);Object(n.enableProdMode)(),i.platformBrowser().bootstrapModule(Mn,{ngZone:"noop"}).catch((function(t){return console.error(t)}))}});